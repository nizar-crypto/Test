<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- link to css -->
    <!-- <link href="https://fonts.googleapis.com/css?family=Amatic+SC|Raleway" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="assets/css/styles.css"> -->
    <link rel="stylesheet" href="piratelandingPage.css">
    <link rel="stylesheet" href="../css/global.css">
    <link rel="stylesheet" href="../css/registerPage.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js"
        integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT"
        crossorigin="anonymous"></script>

</head>

<body>

    <!-- <header class="navbar navbar-light sticky-top bg-light flex-md-nowrap p-0 shadow">
        <div class="navbar-brand col-md-1 col-lg-1 me-0 px-3">
            <a href="/index.html"> <img width="50px" class="navbar_sub_links_img" src="../images/chest.svg"
                    style="display: flex;">
            </a>
            <h1 class="logo-text" style="display: flex; padding-left: 10px">THE PIRATEBANK</h1>



        </div>



        <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-bs-toggle="collapse"
            data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false"
            aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>


    </header> -->
    <header>
        <h1 class="logo-text" style="display: flex; padding-left: 10px">THE PIRATEBANK</h1>


        <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-bs-toggle="collapse"
            data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false"
            aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- <h2><a href="#">Pirate Bank</a></h2> -->
        <nav>
            <li><a href="#">Prices</a></li>
            <li><a href="#">About</a></li>
            <li><a href="#">Contact</a></li>
            <a class="btn" href="login.html">Sign in</a>
            <a href="#" class="btn">Sign up</a>
        </nav>
    </header>

    <!-- <div class="container-fluid"> 
        <div class="row">

            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
                <div class="position-sticky pt-3">
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="#">
                                <span data-feather="anchor"></span>
                                Home
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../trade/tradePage.html">
                                <span data-feather="briefcase"></span>
                                Trade
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../register/register.html">
                                <span data-feather="log-out"></span>
                                Log out
                            </a>
                        </li>
                    </ul>


                </div>
            </nav> -->

    <section class="pirate">
        <div class="background-image"></div>
        <div class="pirate-content-area">

            <p>
            <h1>Welcome in Pirate Bank</h1>
            </p>
            <b>
                <div class="innerIam">
                    leggera<br />
                    a theme in progress<br />
                    built on bootstrap<br />
                    how I learn stuff<br />
                    how we do it
                </div>
            </b>
            <h3>Invest with us</h3>

        </div>
    </section>
    <section>
        <h2>Coin List</h2>
        <div class="table-responsive">
            <table class="table table-striped table-sm">
                <thead>
                    <tr>
                        <th scope="col"></th>
                        <th scope="col">Coin</th>
                        <th scope="col">Price</th>
                        <th scope="col">change</th>
                        <!-- <th scope="col">Chart</th> -->
                        <th scope="col">Trade</th>
                    </tr>
                </thead>
                <tbody id="tree-body">


                </tbody>
            </table>
        </div>
    </section>

    <section class="destinations">
        <h3 class="title">Some of our :</h3>
        <p>Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas.</p>
        <hr>

        <ul class="grid">
            <li class="small image-1"></li>
            <li class="large image-2"></li>
            <li class="large image-3"></li>
            <li class="small image-4"></li>
        </ul>
    </section>
    <p id="walletValue"></p>

    <canvas class="my-4 w-100" id="myChart" width="900" height="380"></canvas>



    <section class="contact">
        <h3 class="title">Learn more</h3>
        <p>Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas</p>
        <hr>
        <form>
            <input type="email" placeholder="Email">
            <a href="#" class="btn">Sign Up now</a>
        </form>
    </section>



    <footer>
        <p>Images <a href="http://unsplash.com/"></a>.</p>
        <p></p>
        <ul>
            <!-- <span id="Facebook"><a href="#" target="_blank"></a></span>
            <span id="Twitter"><a href="#" target="_blank"></a></span>
            <span id="LinkedIn"><a href="#" target="_blank"></a></span> -->
            <li><a href="#"><i class="fa fa-twitter-square fa-2x"></i></a></li>
            <li><a href="#"><i class="fa fa-facebook-square fa-2x"></i></a></li>
            <li><a href="#"><i class="fa fa-snapchat-square fa-2x"></i></a></li>

        </ul>
    </footer>

    <script>
        (function () {
            'use strict'

            const coinData = `https://api.coingecko.com/api/v3/coins/`
            const coinIdList = [`bitcoin`, `ethereum`, `dogecoin`, `litecoin`]


            // feather.replace({ 'area-hidden': 'true' })

            let getWalletValue = () => {//M
                console.log("Yolo")
                return 5000000
            }

            let getOverviewPeriod = (json) => {

            }

            let fillCoinTable = (arr) => {
                arr.forEach(element => setCoinDataForId(element))
            }


            let setCoinDataForId = (id) => {
                let getString = `${coinData}${id}`
                fetch(getString, {
                    method: 'GET',
                    headers: {
                    },
                })
                    .then(response => {
                        console.log(response)
                        return response.json()
                    }
                    )
                    .then(json => {

                        let newRow = document.createElement('tr')
                        //cell1
                        let newCell1 = document.createElement('td')
                        let thumb = document.createElement('img')
                        thumb.src = json.image.thumb
                        newCell1.appendChild(thumb)
                        newRow.appendChild(newCell1)
                        //cell2
                        let newCell2 = document.createElement('td')
                        newCell2.innerHTML = json.symbol.toUpperCase()
                        newRow.appendChild(newCell2)
                        //cell3
                        let newCell3 = document.createElement('td')
                        newCell3.innerHTML = "Price"
                        newRow.appendChild(newCell3)
                        //cell4
                        let newCell4 = document.createElement('td')
                        newCell4.innerHTML = currencyFormatter("EUR").format(json.market_data.current_price.eur)
                        newRow.appendChild(newCell4)
                        //cell5
                        // let newCell5 = document.createElement('td')
                        // newCell5.innerHTML = "change"
                        // newRow.appendChild(newCell5)
                        //cell6
                        let newCell6 = document.createElement('button')
                        newCell6.innerHTML = "buy"
                        newRow.appendChild(newCell6)
                        document.getElementById("tree-body").appendChild(newRow)




                        return (json);
                    })
                    .catch((error) => {
                        console.error('Foutje', error);
                    });
            }

            fillCoinTable(coinIdList)



            //<h2> <span id="currency">EUR</span> <span id="walletValue">5.000.000</span</h2>

            //https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat
            let currencyFormatter = (currentCurrency) =>
                new Intl.NumberFormat('nl-NE', {
                    style: 'currency',
                    currency: currentCurrency,
                    // These options are needed to round to whole numbers if that's what you want.
                    //minimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)
                    //maximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)
                });

            // formatter.format(2500); /* $2,500.00 */


            let changeWalletValue = () => {
                const value = document.getElementById("walletValue")
                console.log("test", value);
                document.getElementById("walletValue").innerHTML =
                    currencyFormatter("EUR")
                        .format(getWalletValue())
            }

            changeWalletValue(6000000)


        })()

    </script>


</body>

</html>